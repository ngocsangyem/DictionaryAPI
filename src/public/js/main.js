!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}e.exports=function(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}},function(e,t,i){e.exports=i(4)},function(e,t,i){"use strict";i.r(t),i.d(t,"App",(function(){return d}));var s=i(1),n=i.n(s),o=i(2),r=i.n(o),l=i(0),a=i.n(l),c=function(){function e(t){n()(this,e),a()(this,"themeSwitch",document.querySelector("#themeSwitch")),this.el=t,this.handleThemeSwitch()}return r()(e,[{key:"initTheme",value:function(){var e=null!==localStorage.getItem("themeSwitch")&&"dark"===localStorage.getItem("themeSwitch");this.themeSwitch.checked=e,e?document.body.setAttribute("data-theme","dark"):document.body.removeAttribute("data-theme")}},{key:"resetTheme",value:function(){this.themeSwitch.checked?(document.body.setAttribute("data-theme","dark"),localStorage.setItem("themeSwitch","dark")):(document.body.removeAttribute("data-theme"),localStorage.removeItem("themeSwitch"))}},{key:"handleThemeSwitch",value:function(){var e=this;this.initTheme(),this.themeSwitch.addEventListener("change",(function(){e.resetTheme()}))}}]),e}(),u=function(){function e(t){n()(this,e),a()(this,"trigger",!1),a()(this,"dropdown",!1),a()(this,"customOptions",!1),a()(this,"optionIndex",0),this.element=t,this.select=this.element.getElementsByTagName("select")[0],this.optGroups=this.select.getElementsByTagName("optgroup"),this.options=this.select.getElementsByTagName("option"),this.selectedOption=this.getSelectedOptionText(),this.selectId=this.select.getAttribute("id"),this.arrowIcon=this.element.getElementsByTagName("svg"),this.label=document.querySelector('[for="'+this.selectId+'"]'),this.initCustomSelect(),this.initCustomSelectEvents()}return r()(e,[{key:"initCustomSelect",value:function(){this.element.insertAdjacentHTML("beforeend",this.initButtonSelect()+this.initListSelect()),this.dropdown=this.element.getElementsByClassName("js-select__dropdown")[0],this.trigger=this.element.getElementsByClassName("js-select__button")[0],this.customOptions=this.dropdown.getElementsByClassName("js-select__item"),this.select.classList.add("is-hidden"),this.arrowIcon.length>0&&(this.arrowIcon[0].style.display="none"),this.placeDropdown()}},{key:"initCustomSelectEvents",value:function(){var e=this;this.initSelection(),this.trigger.addEventListener("click",(function(){e.toggleCustomSelect(!1)})),this.label&&this.label.addEventListener("click",(function(){e.moveFocus(e.trigger)})),this.dropdown.addEventListener("keydown",(function(t){t.keyCode&&38==t.keyCode||t.key&&"arrowup"==t.key.toLowerCase()?e.keyboardCustomSelect("prev",t):(t.keyCode&&40==t.keyCode||t.key&&"arrowdown"==t.key.toLowerCase())&&e.keyboardCustomSelect("next",t)})),this.element.addEventListener("select-updated",(function(t){e.resetCustomSelect()}))}},{key:"toggleCustomSelect",value:function(e){var t,i=this;if(t=e||("true"===this.trigger.getAttribute("aria-expanded")?"false":"true"),this.trigger.setAttribute("aria-expanded",t),"true"===t){var s=this.getSelectedOption();this.moveFocus(s),this.dropdown.addEventListener("transitionend",(function(e){i.moveFocus(s),i.dropdown.removeEventListener("transitionend",e)})),this.placeDropdown()}}},{key:"placeDropdown",value:function(){this.dropdown.classList.remove("select__dropdown--right"),this.dropdown.classList.remove("select__dropdown--up");var e=this.trigger.getBoundingClientRect();document.documentElement.clientWidth-5<e.left+this.dropdown.offsetWidth?this.dropdown.classList.add("select__dropdown--right"):this.dropdown.classList.remove("select__dropdown--right");var t=window.innerHeight-e.bottom-5<e.top;t?this.dropdown.classList.add("select__dropdown--up"):this.dropdown.classList.remove("select__dropdown--up");var i=t?e.top-20:window.innerHeight-e.bottom-20;this.dropdown.setAttribute("style","max-height: "+i+"px; width: "+e.width+"px;")}},{key:"keyboardCustomSelect",value:function(e,t){t.preventDefault();var i=Array.from(this.customOptions),s=i.indexOf(document.activeElement);(s="next"==e?s+1:s-1)<0&&(s=i.length-1),s>=i.length&&(s=0),this.moveFocus(i[s])}},{key:"moveFocus",value:function(e){e||(e=document.getElementsByTagName("body")[0]),e.focus(),document.activeElement!==e&&(e.setAttribute("tabindex","-1"),e.focus())}},{key:"initSelection",value:function(){var e=this;this.dropdown.addEventListener("click",(function(t){var i=t.target.closest(".js-select__item");i&&e.selectOption(i)}))}},{key:"selectOption",value:function(e){if(e.hasAttribute("aria-selected")&&"true"==e.getAttribute("aria-selected"))this.trigger.setAttribute("aria-expanded","false");else{var t=this.dropdown.querySelector('[aria-selected="true"]');t&&t.setAttribute("aria-selected","false"),e.setAttribute("aria-selected","true"),this.trigger.getElementsByClassName("js-select__label")[0].textContent=e.textContent,this.trigger.setAttribute("aria-expanded","false"),this.updateNativeSelect(e.getAttribute("data-index")),this.updateTriggerAria()}this.trigger.focus()}},{key:"updateNativeSelect",value:function(e){this.select.selectedIndex=e,this.select.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}},{key:"updateTriggerAria",value:function(){this.trigger.setAttribute("aria-label",this.options[this.select.selectedIndex].innerHTML+", "+this.label.textContent)}},{key:"getSelectedOptionText",value:function(){return"selectedIndex"in this.select?this.options[this.select.selectedIndex].text:this.select.querySelector("option[selected]").text}},{key:"initButtonSelect",value:function(){var e='<button type="button" class="js-select__button select__button'+(this.element.getAttribute("data-trigger-class")?" "+this.element.getAttribute("data-trigger-class"):"")+'" aria-label="'+(this.options[this.select.selectedIndex].innerHTML+", "+this.label.textContent)+'" aria-expanded="false" aria-controls="'+this.selectId+'-dropdown"><span aria-hidden="true" class="js-select__label select__label">'+this.selectedOption+"</span>";if(this.arrowIcon.length>0&&this.arrowIcon[0].outerHTML){var t=this.arrowIcon[0].cloneNode(!0);t.classList.remove("select__icon"),e+=t.outerHTML}return e+"</button>"}},{key:"initListSelect",value:function(){var e='<div class="js-select__dropdown select__dropdown" aria-describedby="'+this.selectId+'-description" id="'+this.selectId+'-dropdown">';if(e+=this.getSelectLabelSR(),this.optGroups.length>0)for(var t=0;t<this.optGroups.length;t++){var i=this.optGroups[t].getElementsByTagName("option");e=e+'<ul class="select__list" role="listbox">'+('<li><span class="select__item select__item--optgroup">'+this.optGroups[t].getAttribute("label")+"</span></li>")+this.getOptionsList(i)+"</ul>"}else e=e+'<ul class="select__list" role="listbox">'+this.getOptionsList(this.options)+"</ul>";return e}},{key:"getSelectLabelSR",value:function(){return this.label?'<p class="sr-only" id="'+this.selectId+'-description">'+this.label.textContent+"</p>":""}},{key:"resetCustomSelect",value:function(){var e=this.dropdown.querySelector('[aria-selected="true"]');e&&e.setAttribute("aria-selected","false");var t=this.dropdown.querySelector('.js-select__item[data-index="'+this.select.selectedIndex+'"]');t.setAttribute("aria-selected","true"),this.trigger.getElementsByClassName("js-select__label")[0].textContent=t.textContent,this.trigger.setAttribute("aria-expanded","false"),this.updateTriggerAria()}},{key:"getOptionsList",value:function(e){for(var t="",i=0;i<e.length;i++){var s=e[i].hasAttribute("selected")?' aria-selected="true"':' aria-selected="false"';t=t+'<li><button type="button" class="reset js-select__item select__item select__item--option" role="option" data-value="'+e[i].value+'" '+s+' data-index="'+this.optionIndex+'">'+e[i].text+"</button></li>",this.optionIndex=this.optionIndex+1}return t}},{key:"getSelectedOption",value:function(){var e=this.dropdown.querySelector('[aria-selected="true"]');if(e)return e;this.dropdown.getElementsByClassName("js-select__item")[0]}},{key:"moveFocusToSelectTrigger",value:function(){document.activeElement.closest(".js-select")&&this.trigger.focus()}},{key:"checkCustomSelectClick",value:function(e){this.element.contains(e)||this.toggleCustomSelect("false")}}]),e}(),d=function(){function e(){n()(this,e),document.documentElement.classList.add("js"),new c,this.handleCustomSelect()}return r()(e,[{key:"handleCustomSelect",value:function(){var e=document.getElementsByClassName("js-select");if(e.length>0){for(var t=[],i=0;i<e.length;i++)this.customSelect=new u(e[i]),t.push(this.customSelect);window.addEventListener("keyup",(function(e){(e.keyCode&&27==e.keyCode||e.key&&"escape"==e.key.toLowerCase())&&(console.log("oke"),t.forEach((function(e){e.moveFocusToSelectTrigger(),e.toggleCustomSelect("false")})))})),window.addEventListener("click",(function(e){t.forEach((function(t){t.checkCustomSelectClick(e.target)}))}))}}}],[{key:"init",value:function(){return new e}}]),e}();d.init()}]);